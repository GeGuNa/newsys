#!/bin/sh

exec < ../../../kern/syslist/syslist > syscall.S

echo
echo "/* Autogenerated by makesys; do not edit (edit syslist instead) */"
echo

while read nr priv name; do
	if [ -z "$name" ]; then
		continue;
	fi
	
	cat << EOT
	.globl	$name
$name:
	movl	\$$nr,%eax
	int	\$0x80
	ret

EOT
done
